<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Embedded Co-Design (VHDL and C): /home/student/netlabhome/Altera_Systems_Labs/New_FreeRTOS/FreeRTOS/Demo/NiosII_CycloneIII_DBC3C40_GCC/RTOSDemo/FreeRTOS/portable/GCC/NiosII/port.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_75b82e7e4a5feb05200b9ad7adf06257.html">home</a>      </li>
      <li><a class="el" href="dir_838608702a48ab2d6d07b5477858f42f.html">student</a>      </li>
      <li><a class="el" href="dir_dba29d339fe0f0e9eee2d0d877a9f2a7.html">netlabhome</a>      </li>
      <li><a class="el" href="dir_a1039001424a9b65c15134c0a4418042.html">Altera_Systems_Labs</a>      </li>
      <li><a class="el" href="dir_cf3df47d55074d431f85fc2cd798e2fb.html">New_FreeRTOS</a>      </li>
      <li><a class="el" href="dir_1a0c7a950cc55f3c0c8cecb3833d96b2.html">FreeRTOS</a>      </li>
      <li><a class="el" href="dir_c5e400573fa88499f74521c358c36f55.html">Demo</a>      </li>
      <li><a class="el" href="dir_702e5a272eb1478983a0f996116659b7.html">NiosII_CycloneIII_DBC3C40_GCC</a>      </li>
      <li><a class="el" href="dir_c4f2b08ffc1861ab78e1f05032156428.html">RTOSDemo</a>      </li>
      <li><a class="el" href="dir_8656cccae2c5ebd8271c27c2e5305017.html">FreeRTOS</a>      </li>
      <li><a class="el" href="dir_c6955f522c983348c7d7e001bc4dd493.html">portable</a>      </li>
      <li><a class="el" href="dir_f54de2e1a5594493b2c0ea34368c54ef.html">GCC</a>      </li>
      <li><a class="el" href="dir_71cb421845d8a67b7d378a4e3a7ba690.html">NiosII</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>port.c File Reference</h1>  </div>
</div>
<div class="contents">
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &quot;sys/alt_irq.h&quot;</code><br/>
<code>#include &quot;altera_avalon_timer_regs.h&quot;</code><br/>
<code>#include &quot;priv/alt_irq_table.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="_free_r_t_o_s_8h_source.html">FreeRTOS.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="task_8h_source.html">task.h</a>&quot;</code><br/>
<div class="dynheader">
Include dependency graph for port.c:</div>
<div class="dyncontent">
<div class="center"><img src="port_8c__incl.png" border="0" usemap="#_2home_2student_2netlabhome_2_altera___systems___labs_2_new___free_r_t_o_s_2_free_r_t_o_s_2_demo_2_nios_i_i___cyclone_i_i_i___d_b_c3_c40___g_c_c_2_r_t_o_s_demo_2_free_r_t_o_s_2portable_2_g_c_c_2_nios_i_i_2port_8c" alt=""/></div>
<map name="_2home_2student_2netlabhome_2_altera___systems___labs_2_new___free_r_t_o_s_2_free_r_t_o_s_2_demo_2_nios_i_i___cyclone_i_i_i___d_b_c3_c40___g_c_c_2_r_t_o_s_demo_2_free_r_t_o_s_2portable_2_g_c_c_2_nios_i_i_2port_8c" id="_2home_2student_2netlabhome_2_altera___systems___labs_2_new___free_r_t_o_s_2_free_r_t_o_s_2_demo_2_nios_i_i___cyclone_i_i_i___d_b_c3_c40___g_c_c_2_r_t_o_s_demo_2_free_r_t_o_s_2portable_2_g_c_c_2_nios_i_i_2port_8c">
<area shape="rect" id="node13" href="_free_r_t_o_s_8h.html" title="FreeRTOS.h" alt="" coords="819,83,912,112"/><area shape="rect" id="node30" href="task_8h.html" title="task.h" alt="" coords="952,83,1013,112"/><area shape="rect" id="node17" href="projdefs_8h.html" title="projdefs.h" alt="" coords="673,160,759,189"/><area shape="rect" id="node19" href="_free_r_t_o_s_config_8h.html" title="FreeRTOSConfig.h" alt="" coords="783,160,916,189"/><area shape="rect" id="node23" href="portable_8h.html" title="portable.h" alt="" coords="940,160,1025,189"/><area shape="rect" id="node25" href="portmacro_8h.html" title="portmacro.h" alt="" coords="853,237,955,267"/><area shape="rect" id="node28" href="mpu__wrappers_8h.html" title="mpu_wrappers.h" alt="" coords="979,237,1107,267"/><area shape="rect" id="node33" href="list_8h.html" title="list.h" alt="" coords="1049,160,1100,189"/></map>
</div>

<p><a href="port_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#a48b9faaa951d933ea7146ac60b7cf7f1">portINITIAL_ESTATUS</a>&nbsp;&nbsp;&nbsp;( portSTACK_TYPE ) 0x01</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#aba3499e1ee02f7effadcdda992d7c17f">vPortSysTickHandler</a> (void *context, alt_u32 id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#abef8de986b8b3a39d6c41af1a18f6ace">prvReadGp</a> (unsigned long *ulValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">portSTACK_TYPE *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#a4a439f783d47636cea978a4c8669f258">pxPortInitialiseStack</a> (portSTACK_TYPE *pxTopOfStack, <a class="el" href="projdefs_8h.html#ae74d12a2f9cb1fcae89532830b5413ac">pdTASK_CODE</a> pxCode, void *pvParameters)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">portBASE_TYPE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#a53fbb684e09a643c56b7508f1ef97ad3">xPortStartScheduler</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#af76f3c0b44c5b5c06fc046a4ee1a6423">vPortEndScheduler</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="port_8c.html#a4e6cf52f2584041266c71bea630cd84e">alt_irq_register</a> (alt_u32 id, void *context, void(*handler)(void *, alt_u32))</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a48b9faaa951d933ea7146ac60b7cf7f1"></a><!-- doxytag: member="port.c::portINITIAL_ESTATUS" ref="a48b9faaa951d933ea7146ac60b7cf7f1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define portINITIAL_ESTATUS&nbsp;&nbsp;&nbsp;( portSTACK_TYPE ) 0x01</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="port_8c_source.html#l00079">79</a> of file <a class="el" href="port_8c_source.html">port.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a4e6cf52f2584041266c71bea630cd84e"></a><!-- doxytag: member="port.c::alt_irq_register" ref="a4e6cf52f2584041266c71bea630cd84e" args="(alt_u32 id, void *context, void(*handler)(void *, alt_u32))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int alt_irq_register </td>
          <td>(</td>
          <td class="paramtype">alt_u32&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *, alt_u32)&nbsp;</td>
          <td class="paramname"> <em>handler</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function is a re-implementation of the Altera provided function. The function is re-implemented to prevent it from enabling an interrupt when it is registered. Interrupts should only be enabled after the FreeRTOS.org kernel has its scheduler started so that contexts are saved and switched correctly. </p>

<p>Definition at line <a class="el" href="port_8c_source.html#l00212">212</a> of file <a class="el" href="port_8c_source.html">port.c</a>.</p>

</div>
</div>
<a class="anchor" id="abef8de986b8b3a39d6c41af1a18f6ace"></a><!-- doxytag: member="port.c::prvReadGp" ref="abef8de986b8b3a39d6c41af1a18f6ace" args="(unsigned long *ulValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prvReadGp </td>
          <td>(</td>
          <td class="paramtype">unsigned long *&nbsp;</td>
          <td class="paramname"> <em>ulValue</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="port_8c_source.html#l00095">95</a> of file <a class="el" href="port_8c_source.html">port.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="port_8c_abef8de986b8b3a39d6c41af1a18f6ace_icgraph.png" border="0" usemap="#port_8c_abef8de986b8b3a39d6c41af1a18f6ace_icgraph" alt=""/></div>
<map name="port_8c_abef8de986b8b3a39d6c41af1a18f6ace_icgraph" id="port_8c_abef8de986b8b3a39d6c41af1a18f6ace_icgraph">
<area shape="rect" id="node3" href="port_8c.html#a4a439f783d47636cea978a4c8669f258" title="pxPortInitialiseStack" alt="" coords="145,5,295,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4a439f783d47636cea978a4c8669f258"></a><!-- doxytag: member="port.c::pxPortInitialiseStack" ref="a4a439f783d47636cea978a4c8669f258" args="(portSTACK_TYPE *pxTopOfStack, pdTASK_CODE pxCode, void *pvParameters)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">portSTACK_TYPE* pxPortInitialiseStack </td>
          <td>(</td>
          <td class="paramtype">portSTACK_TYPE *&nbsp;</td>
          <td class="paramname"> <em>pxTopOfStack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="projdefs_8h.html#ae74d12a2f9cb1fcae89532830b5413ac">pdTASK_CODE</a>&nbsp;</td>
          <td class="paramname"> <em>pxCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pvParameters</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="port_8c_source.html#l00104">104</a> of file <a class="el" href="port_8c_source.html">port.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="port_8c_a4a439f783d47636cea978a4c8669f258_cgraph.png" border="0" usemap="#port_8c_a4a439f783d47636cea978a4c8669f258_cgraph" alt=""/></div>
<map name="port_8c_a4a439f783d47636cea978a4c8669f258_cgraph" id="port_8c_a4a439f783d47636cea978a4c8669f258_cgraph">
<area shape="rect" id="node3" href="port_8c.html#abef8de986b8b3a39d6c41af1a18f6ace" title="prvReadGp" alt="" coords="205,5,296,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af76f3c0b44c5b5c06fc046a4ee1a6423"></a><!-- doxytag: member="port.c::vPortEndScheduler" ref="af76f3c0b44c5b5c06fc046a4ee1a6423" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vPortEndScheduler </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="port_8c_source.html#l00158">158</a> of file <a class="el" href="port_8c_source.html">port.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="port_8c_af76f3c0b44c5b5c06fc046a4ee1a6423_icgraph.png" border="0" usemap="#port_8c_af76f3c0b44c5b5c06fc046a4ee1a6423_icgraph" alt=""/></div>
<map name="port_8c_af76f3c0b44c5b5c06fc046a4ee1a6423_icgraph" id="port_8c_af76f3c0b44c5b5c06fc046a4ee1a6423_icgraph">
<area shape="rect" id="node3" href="tasks_8c.html#aeadc53d3d0d0ea3a6c7702a9eacbf452" title="vTaskEndScheduler" alt="" coords="197,5,341,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aba3499e1ee02f7effadcdda992d7c17f"></a><!-- doxytag: member="port.c::vPortSysTickHandler" ref="aba3499e1ee02f7effadcdda992d7c17f" args="(void *context, alt_u32 id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vPortSysTickHandler </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">alt_u32&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="port_8c_source.html#l00191">191</a> of file <a class="el" href="port_8c_source.html">port.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="port_8c_aba3499e1ee02f7effadcdda992d7c17f_cgraph.png" border="0" usemap="#port_8c_aba3499e1ee02f7effadcdda992d7c17f_cgraph" alt=""/></div>
<map name="port_8c_aba3499e1ee02f7effadcdda992d7c17f_cgraph" id="port_8c_aba3499e1ee02f7effadcdda992d7c17f_cgraph">
<area shape="rect" id="node3" href="task_8h.html#aab2f88103023b7e845abe1642da9486d" title="vTaskIncrementTick" alt="" coords="207,5,351,35"/><area shape="rect" id="node5" href="task_8h.html#a26df422f8d635d5191a3e106fbeeed68" title="vTaskSwitchContext" alt="" coords="205,59,352,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a53fbb684e09a643c56b7508f1ef97ad3"></a><!-- doxytag: member="port.c::xPortStartScheduler" ref="a53fbb684e09a643c56b7508f1ef97ad3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">portBASE_TYPE xPortStartScheduler </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="port_8c_source.html#l00143">143</a> of file <a class="el" href="port_8c_source.html">port.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="port_8c_a53fbb684e09a643c56b7508f1ef97ad3_icgraph.png" border="0" usemap="#port_8c_a53fbb684e09a643c56b7508f1ef97ad3_icgraph" alt=""/></div>
<map name="port_8c_a53fbb684e09a643c56b7508f1ef97ad3_icgraph" id="port_8c_a53fbb684e09a643c56b7508f1ef97ad3_icgraph">
<area shape="rect" id="node3" href="tasks_8c.html#a598661cdd2a6af95a077245d11e3d142" title="vTaskStartScheduler" alt="" coords="205,5,357,35"/><area shape="rect" id="node5" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main." alt="" coords="407,5,460,35"/></map>
</div>
</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Tue Mar 27 2012 15:09:52 for Embedded Co-Design (VHDL and C) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
