<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Embedded Co-Design (VHDL and C): /home/student/netlabhome/Altera_Systems_Labs/New_FreeRTOS/FreeRTOS/Demo/NiosII_CycloneIII_DBC3C40_GCC/RTOSDemo/Arms_Race/inverse_kinematics.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_75b82e7e4a5feb05200b9ad7adf06257.html">home</a>      </li>
      <li><a class="el" href="dir_838608702a48ab2d6d07b5477858f42f.html">student</a>      </li>
      <li><a class="el" href="dir_dba29d339fe0f0e9eee2d0d877a9f2a7.html">netlabhome</a>      </li>
      <li><a class="el" href="dir_a1039001424a9b65c15134c0a4418042.html">Altera_Systems_Labs</a>      </li>
      <li><a class="el" href="dir_cf3df47d55074d431f85fc2cd798e2fb.html">New_FreeRTOS</a>      </li>
      <li><a class="el" href="dir_1a0c7a950cc55f3c0c8cecb3833d96b2.html">FreeRTOS</a>      </li>
      <li><a class="el" href="dir_c5e400573fa88499f74521c358c36f55.html">Demo</a>      </li>
      <li><a class="el" href="dir_702e5a272eb1478983a0f996116659b7.html">NiosII_CycloneIII_DBC3C40_GCC</a>      </li>
      <li><a class="el" href="dir_c4f2b08ffc1861ab78e1f05032156428.html">RTOSDemo</a>      </li>
      <li><a class="el" href="dir_9f9bad4889f4532e9a758f5a7fbfcd31.html">Arms_Race</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>inverse_kinematics.c</h1>  </div>
</div>
<div class="contents">
<a href="inverse__kinematics_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* Standard includes. */</span>
<a name="l00002"></a>00002 <span class="preprocessor">#include &lt;stddef.h&gt;</span>
<a name="l00003"></a>00003 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;<a class="code" href="altera__avalon__lcd__16207__mod_8h.html">altera_avalon_lcd_16207_mod.h</a>&quot;</span>
<a name="l00009"></a>00009 <span class="comment">/* Scheduler includes. */</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="_free_r_t_o_s_8h.html">FreeRTOS.h</a>&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="code" href="task_8h.html">task.h</a>&quot;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="code" href="queue_8h.html">queue.h</a>&quot;</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="comment">/* Altera specific */</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;altera_avalon_pio_regs.h&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;alt_types.h&quot;</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;<a class="code" href="record_8h.html">record.h</a>&quot;</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">/* Johns Variables */</span>
<a name="l00021"></a>00021 
<a name="l00022"></a><a class="code" href="inverse__kinematics_8c.html#a9376712f361c6b819a4052d33b646bf9">00022</a> <span class="preprocessor">#define EL_WR 10.794 //length between elbow and wrist.</span>
<a name="l00023"></a><a class="code" href="inverse__kinematics_8c.html#a8c48bc5ff1a71bb5b88568ec46187a61">00023</a> <span class="preprocessor"></span><span class="preprocessor">#define SH_EL 9.525  //length between shoulder and elbo.</span>
<a name="l00024"></a><a class="code" href="inverse__kinematics_8c.html#ab95c18b8f974c06bb84a5c25cf658365">00024</a> <span class="preprocessor"></span><span class="preprocessor">#define WR_END 8.5725 // length between the wrist and end effector. </span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00026"></a>00026 <span class="comment">#define EL_WR 1270 //length between elbow and wrist.</span>
<a name="l00027"></a>00027 <span class="comment">#define SH_EL 1210  //length between shoulder and elbo.</span>
<a name="l00028"></a>00028 <span class="comment">#define WR_END 860 // length between the wrist and end effector. </span>
<a name="l00029"></a>00029 <span class="comment">*/</span>
<a name="l00030"></a><a class="code" href="inverse__kinematics_8c.html#a9cb0638a7b1d7af8ff421d2dc025d3a8">00030</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#a9cb0638a7b1d7af8ff421d2dc025d3a8">pi</a> = 3.14159265;
<a name="l00031"></a>00031 
<a name="l00032"></a><a class="code" href="inverse__kinematics_8c.html#a2516f03e22da0db2f05d30bddb4cda3b">00032</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#a2516f03e22da0db2f05d30bddb4cda3b">xt</a>;
<a name="l00033"></a><a class="code" href="inverse__kinematics_8c.html#a145f61de888f096c52a2945234a407b0">00033</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#a145f61de888f096c52a2945234a407b0">I</a>;
<a name="l00034"></a><a class="code" href="inverse__kinematics_8c.html#ab3c4b737dfc5c78a6aba50dda616f7c3">00034</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#ab3c4b737dfc5c78a6aba50dda616f7c3">X</a>;
<a name="l00035"></a><a class="code" href="inverse__kinematics_8c.html#aa65967cca170d24dcd0d555df0d5ee4f">00035</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#aa65967cca170d24dcd0d555df0d5ee4f">Z</a>;
<a name="l00036"></a><a class="code" href="inverse__kinematics_8c.html#ae78103ab33f03590e84ff7bc735629d7">00036</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#ae78103ab33f03590e84ff7bc735629d7">c</a>;
<a name="l00037"></a><a class="code" href="inverse__kinematics_8c.html#a04ee57e34dd2b022f0e150f1771579a1">00037</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#a04ee57e34dd2b022f0e150f1771579a1">J2</a>;
<a name="l00038"></a><a class="code" href="inverse__kinematics_8c.html#aadfc5c227ca658a29a59a0ce6fc15792">00038</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#aadfc5c227ca658a29a59a0ce6fc15792">theta</a>;
<a name="l00039"></a><a class="code" href="inverse__kinematics_8c.html#aa6d04e25ddf74e933da3b0213229910c">00039</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#aa6d04e25ddf74e933da3b0213229910c">ang</a>;
<a name="l00040"></a><a class="code" href="inverse__kinematics_8c.html#a2328d4deeb5c70e249b52bdf62aa3154">00040</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#a2328d4deeb5c70e249b52bdf62aa3154">J1</a>;
<a name="l00041"></a><a class="code" href="inverse__kinematics_8c.html#a3389d8b95846602e8f94cc15f41e48e9">00041</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#a3389d8b95846602e8f94cc15f41e48e9">x1</a>;
<a name="l00042"></a><a class="code" href="inverse__kinematics_8c.html#a627c2297758371e8e0ff55c5d8b98810">00042</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#a627c2297758371e8e0ff55c5d8b98810">Z1</a>;
<a name="l00043"></a><a class="code" href="inverse__kinematics_8c.html#a3fbbd8a3959e76a2bc3455d3bade52dc">00043</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#a3fbbd8a3959e76a2bc3455d3bade52dc">d</a>;
<a name="l00044"></a><a class="code" href="inverse__kinematics_8c.html#a5ca92fd32cfbdf32ef445fc4eb680785">00044</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#a5ca92fd32cfbdf32ef445fc4eb680785">J3</a>;
<a name="l00045"></a><a class="code" href="inverse__kinematics_8c.html#a48d93a2b226cdd73ae88280f1361b2a9">00045</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#a48d93a2b226cdd73ae88280f1361b2a9">base</a>;
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="inverse__kinematics_8c.html#abe7412a02f7d8c94be076a3139708694">00047</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#a7011209d6553df74d513f0a6c956e7e1">theta1</a>, <a class="code" href="inverse__kinematics_8c.html#a6f55ee205d99fea441d78d90faddd2b4">theta2</a>, <a class="code" href="inverse__kinematics_8c.html#abe7412a02f7d8c94be076a3139708694">theta3</a>, <a class="code" href="inverse__kinematics_8c.html#a83df52bda8f3503b6c4f9391a3945e0f">Base</a>;
<a name="l00048"></a>00048 
<a name="l00049"></a><a class="code" href="inverse__kinematics_8c.html#af3a8a2582e04ca1a3b01c1bf2088ae53">00049</a> <span class="keywordtype">float</span> <a class="code" href="inverse__kinematics_8c.html#af3a8a2582e04ca1a3b01c1bf2088ae53">servovalue</a>[4];
<a name="l00050"></a>00050 
<a name="l00063"></a><a class="code" href="record_8h.html#a8a80361996880abf478ea643c1343c14">00063</a> <span class="keywordtype">void</span> <a class="code" href="inverse__kinematics_8c.html#a8a80361996880abf478ea643c1343c14" title="Calculate Inverse Kinematic Values.">vCalculateInverse</a>(<a class="code" href="structx_inverse_struct__t.html">xInverseStruct_t</a> *pxInverseStruct)
<a name="l00064"></a>00064 {
<a name="l00065"></a>00065   <span class="keywordtype">float</span> x;
<a name="l00066"></a>00066   <span class="keywordtype">float</span> y;
<a name="l00067"></a>00067   <span class="keywordtype">float</span> z;
<a name="l00068"></a>00068   <span class="keywordtype">float</span> rounding;
<a name="l00069"></a>00069   <span class="keywordtype">int</span> i;
<a name="l00070"></a>00070   <a class="code" href="portmacro_8h.html#add0bdbfef5abf241c7774f68bde42f1d">portCHAR</a> pcTestBuffer[6] = {0};
<a name="l00071"></a>00071   
<a name="l00072"></a>00072   x = pxInverseStruct-&gt;<a class="code" href="structx_inverse_struct__t.html#a1460f1ea8ca75d049bbf84a43e430c2a">X</a>;
<a name="l00073"></a>00073   y = pxInverseStruct-&gt;<a class="code" href="structx_inverse_struct__t.html#a1fcf7951e097e481d4faf1bdae5a2412">Y</a>;
<a name="l00074"></a>00074   z = pxInverseStruct-&gt;<a class="code" href="structx_inverse_struct__t.html#a99a9558cfbf9f0acda52ae3dce85ba90">Z</a>;
<a name="l00075"></a>00075 
<a name="l00076"></a>00076   <a class="code" href="inverse__kinematics_8c.html#a2516f03e22da0db2f05d30bddb4cda3b">xt</a> = x; <span class="comment">//x translation</span>
<a name="l00077"></a>00077   <a class="code" href="inverse__kinematics_8c.html#a145f61de888f096c52a2945234a407b0">I</a> = sqrt((pow(x,2))+(pow(y,2))); 
<a name="l00078"></a>00078   <a class="code" href="inverse__kinematics_8c.html#ab3c4b737dfc5c78a6aba50dda616f7c3">X</a> = <a class="code" href="inverse__kinematics_8c.html#a145f61de888f096c52a2945234a407b0">I</a>;
<a name="l00079"></a>00079   <a class="code" href="inverse__kinematics_8c.html#aa65967cca170d24dcd0d555df0d5ee4f">Z</a> = z + WR_END;
<a name="l00080"></a>00080   <a class="code" href="inverse__kinematics_8c.html#ae78103ab33f03590e84ff7bc735629d7">c</a> = sqrt(pow(<a class="code" href="inverse__kinematics_8c.html#ab3c4b737dfc5c78a6aba50dda616f7c3">X</a>,2)+(pow(<a class="code" href="inverse__kinematics_8c.html#aa65967cca170d24dcd0d555df0d5ee4f">Z</a>,2)));
<a name="l00081"></a>00081   <a class="code" href="inverse__kinematics_8c.html#a04ee57e34dd2b022f0e150f1771579a1">J2</a> = acos((pow(<a class="code" href="inverse__kinematics_8c.html#a9376712f361c6b819a4052d33b646bf9">EL_WR</a>,2)+(pow(<a class="code" href="inverse__kinematics_8c.html#a8c48bc5ff1a71bb5b88568ec46187a61">SH_EL</a>,2))-(pow(<a class="code" href="inverse__kinematics_8c.html#ae78103ab33f03590e84ff7bc735629d7">c</a>,2)))/(2*<a class="code" href="inverse__kinematics_8c.html#a9376712f361c6b819a4052d33b646bf9">EL_WR</a>*<a class="code" href="inverse__kinematics_8c.html#a8c48bc5ff1a71bb5b88568ec46187a61">SH_EL</a>));
<a name="l00082"></a>00082   <a class="code" href="inverse__kinematics_8c.html#aadfc5c227ca658a29a59a0ce6fc15792">theta</a> = acos((pow(<a class="code" href="inverse__kinematics_8c.html#ae78103ab33f03590e84ff7bc735629d7">c</a>,2)+(pow(SH_EL,2))-(pow(<a class="code" href="inverse__kinematics_8c.html#a9376712f361c6b819a4052d33b646bf9">EL_WR</a>,2)))/(2*SH_EL*<a class="code" href="inverse__kinematics_8c.html#ae78103ab33f03590e84ff7bc735629d7">c</a>));
<a name="l00083"></a>00083   <a class="code" href="inverse__kinematics_8c.html#aa6d04e25ddf74e933da3b0213229910c">ang</a> = atan(<a class="code" href="inverse__kinematics_8c.html#aa65967cca170d24dcd0d555df0d5ee4f">Z</a>/<a class="code" href="inverse__kinematics_8c.html#ab3c4b737dfc5c78a6aba50dda616f7c3">X</a>) + <a class="code" href="inverse__kinematics_8c.html#aadfc5c227ca658a29a59a0ce6fc15792">theta</a>;
<a name="l00084"></a>00084   <a class="code" href="inverse__kinematics_8c.html#a2328d4deeb5c70e249b52bdf62aa3154">J1</a> = atan (<a class="code" href="inverse__kinematics_8c.html#aa65967cca170d24dcd0d555df0d5ee4f">Z</a>/<a class="code" href="inverse__kinematics_8c.html#ab3c4b737dfc5c78a6aba50dda616f7c3">X</a>) + <a class="code" href="inverse__kinematics_8c.html#aadfc5c227ca658a29a59a0ce6fc15792">theta</a>;
<a name="l00085"></a>00085   <a class="code" href="inverse__kinematics_8c.html#a3389d8b95846602e8f94cc15f41e48e9">x1</a> = SH_EL*cos(<a class="code" href="inverse__kinematics_8c.html#aa6d04e25ddf74e933da3b0213229910c">ang</a>);
<a name="l00086"></a>00086   <a class="code" href="inverse__kinematics_8c.html#a627c2297758371e8e0ff55c5d8b98810">Z1</a> = SH_EL*sin(<a class="code" href="inverse__kinematics_8c.html#aa6d04e25ddf74e933da3b0213229910c">ang</a>);
<a name="l00087"></a>00087   <a class="code" href="inverse__kinematics_8c.html#a3fbbd8a3959e76a2bc3455d3bade52dc">d</a> = sqrt((pow((<a class="code" href="inverse__kinematics_8c.html#ab3c4b737dfc5c78a6aba50dda616f7c3">X</a>-<a class="code" href="inverse__kinematics_8c.html#a3389d8b95846602e8f94cc15f41e48e9">x1</a>),2))+(pow((<a class="code" href="inverse__kinematics_8c.html#aa65967cca170d24dcd0d555df0d5ee4f">Z</a>-WR_END-<a class="code" href="inverse__kinematics_8c.html#a627c2297758371e8e0ff55c5d8b98810">Z1</a>),2)));
<a name="l00088"></a>00088   <a class="code" href="inverse__kinematics_8c.html#a5ca92fd32cfbdf32ef445fc4eb680785">J3</a> = acos((pow(<a class="code" href="inverse__kinematics_8c.html#a9376712f361c6b819a4052d33b646bf9">EL_WR</a>,2)+(pow(WR_END,2))-(pow(<a class="code" href="inverse__kinematics_8c.html#a3fbbd8a3959e76a2bc3455d3bade52dc">d</a>,2)))/(2*<a class="code" href="inverse__kinematics_8c.html#a9376712f361c6b819a4052d33b646bf9">EL_WR</a>*WR_END));
<a name="l00089"></a>00089   <a class="code" href="inverse__kinematics_8c.html#a48d93a2b226cdd73ae88280f1361b2a9">base</a> = atan(y/<a class="code" href="inverse__kinematics_8c.html#a2516f03e22da0db2f05d30bddb4cda3b">xt</a>);
<a name="l00090"></a>00090   
<a name="l00091"></a>00091   <a class="code" href="inverse__kinematics_8c.html#a7011209d6553df74d513f0a6c956e7e1">theta1</a> = 180 / <a class="code" href="inverse__kinematics_8c.html#a9cb0638a7b1d7af8ff421d2dc025d3a8">pi</a> * <a class="code" href="inverse__kinematics_8c.html#a2328d4deeb5c70e249b52bdf62aa3154">J1</a>;
<a name="l00092"></a>00092   <a class="code" href="inverse__kinematics_8c.html#a6f55ee205d99fea441d78d90faddd2b4">theta2</a> = 180 / <a class="code" href="inverse__kinematics_8c.html#a9cb0638a7b1d7af8ff421d2dc025d3a8">pi</a> * <a class="code" href="inverse__kinematics_8c.html#a04ee57e34dd2b022f0e150f1771579a1">J2</a>;
<a name="l00093"></a>00093   <a class="code" href="inverse__kinematics_8c.html#abe7412a02f7d8c94be076a3139708694">theta3</a> = 180 / <a class="code" href="inverse__kinematics_8c.html#a9cb0638a7b1d7af8ff421d2dc025d3a8">pi</a> * <a class="code" href="inverse__kinematics_8c.html#a5ca92fd32cfbdf32ef445fc4eb680785">J3</a>;
<a name="l00094"></a>00094   <a class="code" href="inverse__kinematics_8c.html#a83df52bda8f3503b6c4f9391a3945e0f">Base</a> =   180 / <a class="code" href="inverse__kinematics_8c.html#a9cb0638a7b1d7af8ff421d2dc025d3a8">pi</a> * <a class="code" href="inverse__kinematics_8c.html#a48d93a2b226cdd73ae88280f1361b2a9">base</a>;
<a name="l00095"></a>00095   <span class="comment">/*</span>
<a name="l00096"></a>00096 <span class="comment">  printf(&quot;Theta 1\t%0.0f\n&quot;, roundf(theta1*10.0f)/10.0f);</span>
<a name="l00097"></a>00097 <span class="comment">  printf(&quot;Theta 2\t%0.0f\n&quot;, roundf(theta2*10.0f)/10.0f);</span>
<a name="l00098"></a>00098 <span class="comment">  printf(&quot;Theta 3\t%0.0f\n&quot;, roundf(theta3*10.0f)/10.0f);</span>
<a name="l00099"></a>00099 <span class="comment">  printf(&quot;Base\t%0.0f\n&quot;, roundf(Base*10.0f)/10.0f);</span>
<a name="l00100"></a>00100 <span class="comment">  printf(&quot;\n&quot;);</span>
<a name="l00101"></a>00101 <span class="comment">  */</span>
<a name="l00102"></a>00102 
<a name="l00103"></a>00103   <a class="code" href="inverse__kinematics_8c.html#af3a8a2582e04ca1a3b01c1bf2088ae53">servovalue</a>[0] = 1500.0 - ((<a class="code" href="inverse__kinematics_8c.html#a83df52bda8f3503b6c4f9391a3945e0f">Base</a>) * 11.11 ) + 500;
<a name="l00104"></a>00104   <a class="code" href="inverse__kinematics_8c.html#af3a8a2582e04ca1a3b01c1bf2088ae53">servovalue</a>[1] = 1500.0 + (( <a class="code" href="inverse__kinematics_8c.html#a7011209d6553df74d513f0a6c956e7e1">theta1</a> - 90.0 ) * 11.11 ) + 500;
<a name="l00105"></a>00105   <a class="code" href="inverse__kinematics_8c.html#af3a8a2582e04ca1a3b01c1bf2088ae53">servovalue</a>[2] = 1500.0 -  (( <a class="code" href="inverse__kinematics_8c.html#a6f55ee205d99fea441d78d90faddd2b4">theta2</a> - 90.0 ) * 11.11 ) + 500;
<a name="l00106"></a>00106   <a class="code" href="inverse__kinematics_8c.html#af3a8a2582e04ca1a3b01c1bf2088ae53">servovalue</a>[3] = 1500.0 - ( <a class="code" href="inverse__kinematics_8c.html#abe7412a02f7d8c94be076a3139708694">theta3</a>  * 11.11 ) + 500;
<a name="l00107"></a>00107   
<a name="l00108"></a>00108   <span class="comment">/* NaN stands for Not a Number.</span>
<a name="l00109"></a>00109 <span class="comment">   * If this is produced when printing the float, don&#39;t print it */</span> 
<a name="l00110"></a>00110   <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l00111"></a>00111   {
<a name="l00112"></a>00112     rounding = roundf(<a class="code" href="inverse__kinematics_8c.html#af3a8a2582e04ca1a3b01c1bf2088ae53">servovalue</a>[i]*10.0f)/10.0f;
<a name="l00113"></a>00113     sprintf(pcTestBuffer,<span class="stringliteral">&quot;%0.0f&quot;</span>,rounding);
<a name="l00114"></a>00114     <span class="keywordflow">if</span> (strcmp(pcTestBuffer,<span class="stringliteral">&quot;NaN&quot;</span>) != 0)
<a name="l00115"></a>00115     {
<a name="l00116"></a>00116       sprintf(pcTestBuffer,<span class="stringliteral">&quot;#%d P%0.0f &quot;</span>,i,rounding);
<a name="l00117"></a>00117       strcat(pxInverseStruct-&gt;<a class="code" href="structx_inverse_struct__t.html#a3b1fe9853803a2bb7be66dcf3eba3fa6">pcOutput</a>,pcTestBuffer);
<a name="l00118"></a>00118     }
<a name="l00119"></a>00119   }
<a name="l00120"></a>00120 
<a name="l00121"></a>00121   <span class="comment">//printf(&quot;OUTPUT = %s\n&quot;,pxInverseStruct-&gt;pcOutput);</span>
<a name="l00122"></a>00122   <span class="keywordflow">return</span>;
<a name="l00123"></a>00123 }
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Tue Mar 27 2012 15:09:46 for Embedded Co-Design (VHDL and C) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
